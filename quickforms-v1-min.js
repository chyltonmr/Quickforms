function addEncodingDefaultFORM(){$(".form").attr("enctype","multipart/form-data")}function verifyFormAttributes(e){var a=$(e).attr("method"),t=$(e).attr("action"),s=$(e).attr("class").split(" "),o=$(e).find("button").attr("type"),i="",n="";"POST"!=a&&"post"!=a&&(i+="Metodo do formulario deve ser <b>POST</b>. <br>"),void 0!==t&&""!==t&&null!==t&&" "!==t||(i+="Voce deve informar endereço pra aonde será enviado dados via ajax. <br>"),void 0===o&&(i+="Seu formulário deve existir um botão do tipo <b>button</b> <br>"),"submit"!=o&&(i+="seu botao button deve ser do tipo <b>submit</b>.<br>"),$(s).each(function(e,a){"form"==a&&(n="located")}),"located"!=n&&(i+="Você deve inserir a class <b>form</b> no seu formulario");var r='<div class="clearfix"></div><div class="alert alert-warning" \n                            role="alert"><b>Atenção!</b> <br><br> '+i+"</div>";""!=i&&($(e).find(".alert-warning").remove(),addHTML(r,e))}function formattingData(e){var a=new FormData;return a.append("dados",JSON.stringify($(e).serializeArray())),void 0!==$(e).find("[type=file]").attr("type")&&a.append("input-file",$(e).find("[type=file]").prop("files")[0]),a}function checkData(e){if("send"===$(e).data("type"))var a=mensagem.send.success,t=mensagem.send.error;if("subscribe"===$(e).data("type"))var a=mensagem.subscribe.success,t=mensagem.subscribe.error;if(""===$(e).data("type")||!1===$(e).data("type")||void 0===$(e).data("type"))var a=mensagem.send.success,t=mensagem.send.error;var s=$(e).data("message-success"),o=$(e).data("message-error");return""!==s&&void 0!==s&&!1!==s||(s=a),""!==o&&void 0!==o&&!1!==o||(o=t),{success:'<div class="clearfix"></div><div class="alert alert-success" role="alert">'+s+"</div>",error:'<div class="clearfix"></div><div class="alert alert-danger" role="alert"> '+o+"</div>",warning:'<div class="clearfix"></div><div class="alert alert-warning" role="alert"> Endereço de envio de e-mail não foi encontrado!</div>',modal_success:'<div id="notification-success" class="modal fade bs-example-modal-sm" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">\n<div class="modal-dialog modal-sm" role="document">\n<div class="modal-content success">\n<div class="modal-header">\n<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n<h4 class="modal-title" id="exampleModalLabel">Titútlo mensagem</h4>\n</div>\n<div class="modal-body">\n<p class="">'+s+"</p>\n</div>\n</div>\n</div>\n</div>",modal_error:'<div id="error-notification" class="modal fade bs-example-modal-sm" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">\n<div class="modal-dialog modal-sm" role="document">\n<div class="modal-content error">\n<div class="modal-header">\n<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n<h4 class="modal-title" id="exampleModalLabel">Titútlo mensagem</h4>\n</div>\n<div class="modal-body">\n<p class="">'+o+"</p>\n</div>\n</div>\n</div>\n</div>",progress_bar:' <div class="progress">\n<div class="progress-bar" role="progressbar" aria-valuenow="2" aria-valuemin="0" aria-valuemax="100" style="min-width: 0em; width: 0%;">\n0%\n</div>\n</div>'}}function waitingSent(e){$(e).find('button[type="submit"]').text("Enviando..."),$(e).find('button[type="submit"]').css({opacity:.7}),$(e).find('button[type="submit"]').addClass("disabled")}function returnOfValues(e){$(e).find('button[type="submit"]').text("Enviar mensagem"),$(e).find('button[type="submit"]').removeAttr("style"),$(e).find('button[type="submit"]').removeClass("disabled")}function timeRemoveMessage(e){setTimeout(function(){$(e).find(".alert").remove()},3e3)}function addHTML(e,a){$(a).append(e)}function resetDataForm(e){$(e)[0].reset()}function checkVariableData(e,a,t){if($(e).data(a)===t)return!0}function sendAJAX(e,a){var t=1;$.ajax({url:$(e).attr("action"),type:"POST",data:a,dataType:"json",cache:!1,contentType:!1,processData:!1,beforeSend:function(a){waitingSent(e)},statusCode:{404:function(){addHTML(checkData(e).warning,e),returnOfValues(e),timeRemoveMessage(e),resetDataForm(e),console.warn(" Não foi possível localizar endereço de envio de  e-mail que foi informado no formulário:  "+$(e).attr("action"))}},success:function(t){"success"===t.status?(delete a,void 0!==checkVariableData(e,"notification","modal")?(addHTML(checkData(e).modal_success,e),$("#notification-success").modal()):(addHTML(checkData(e).success,e),timeRemoveMessage(e)),returnOfValues(e),resetDataForm(e)):(void 0!==checkVariableData(e,"notification","modal")?(addHTML(checkData(e).modal_error,e),$("#error-notification").modal()):(addHTML(checkData(e).error,e),timeRemoveMessage(e)),returnOfValues(e))},xhr:function(){var a=$.ajaxSettings.xhr();return a.upload&&a.upload.addEventListener("progress",function(a){if(a.lengthComputable){var s=a.loaded/a.total;s=parseInt(100*s),1==t&&void 0!==$(e).find("[type=file]").attr("type")&&""!=$(e).find("[type=file]").val()&&(addHTML(checkData(e).progress_bar,e),t++),$(e).find('button[type="submit"]').text("Enviando . . ."),$(e).find(".progress-bar").css({width:s+"%"}),$(e).find(".progress-bar").text(s+"%"),100==s&&setTimeout(function(){$(e).find(".progress").remove()},4e3)}},!1),a}})}document.addEventListener("DOMContentLoaded",function(e){$("form").click(function(){verifyFormAttributes($(this))}),addEncodingDefaultFORM(),$(".form").submit(function(e){e.preventDefault();var a=$(this);sendAJAX(a,formattingData(a))})});var mensagem={};mensagem.send={error:"Erro ao enviar mensagem! pelo send",success:"Mensagem enviada com sucesso pelo send"},mensagem.subscribe={error:"Erro ao realizar cadastro em newsletter!",success:"Cadastro realizado com sucesso no newsletter!"};